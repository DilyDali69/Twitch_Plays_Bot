import time
import speech_recognition as sr
import pyautogui
from pynput.keyboard import Key, Controller as KeyboardController, KeyCode
from pynput.mouse import Button, Controller as MouseController
import ctypes
from ctypes import wintypes
from playsound import playsound


def hold_key(key, hold_time):
    start = time.time()
    while time.time() - start < hold_time:
        pyautogui.keyDown(key)

def main():
    keyboard = KeyboardController()
    mouse = MouseController()
    class MyServer():
        def do_GET():
            if __name__ == "__main__":        

                with sr.Microphone() as source:
                    r = sr.Recognizer()
                    print("Listening")
                    audio_text = r.listen(source)
                    
                    try:
                    # using google speech recognition
                        text = r.recognize_google(audio_text)
                        print("Text: "+ text)
                        
                        
                        
                        
                        ################ 7 Days to Die Block ###################
                        
                        #if I say "shit" or "die", spam run, teabag, run, teabag
                        # if "die" in text:
                        #     print('Paula Deen: get buttered and get fuckt')
                        #     playsound('./assets/hahayousaiddie.mp3')
                        #     hold_key('w',10)
                        #     keyboard.press('c')
                        #     time.sleep(.2)
                        #     keyboard.release('c')
                        #     time.sleep(.2)
                        #     keyboard.press('c')
                        #     time.sleep(.2)
                        #     keyboard.release('c')
                        #     time.sleep(.2)
                        #     keyboard.press('c')
                        #     time.sleep(.2)
                        #     keyboard.release('c')
                        #     hold_key('w',10)
                        #     keyboard.press('c')
                        #     time.sleep(.2)
                        #     keyboard.release('c')
                        #     time.sleep(.2)
                        #     keyboard.press('c')
                        #     time.sleep(.2)
                        #     keyboard.release('c')
                        #     time.sleep(.2)
                        #     keyboard.press('c')
                        #     time.sleep(.2)
                        #     keyboard.release('c')
                        #     hold_key('w',10)
                        #     keyboard.press('c')
                        #     time.sleep(.2)
                        #     keyboard.release('c')
                        #     time.sleep(.2)
                        #     keyboard.press('c')
                        #     time.sleep(.2)
                        #     keyboard.release('c')
                        #     time.sleep(.2)
                        # print('Paula Deen: idiot')

                        # if "s***" in text:
                        #     print('Paula Deen: get buttered and get fuckt')
                        #     playsound('./assets/hahayousaidshit.mp3')
                        #     keyboard.press('w')
                        #     time.sleep(6)
                        #     keyboard.release('w')
                        #     time.sleep(.2)
                        #     keyboard.press('c')
                        #     time.sleep(.2)
                        #     keyboard.release('c')
                        #     time.sleep(.2)
                        #     keyboard.press('c')
                        #     time.sleep(.2)
                        #     keyboard.release('c')
                        #     time.sleep(.2)
                        #     keyboard.press('c')
                        #     time.sleep(.2)
                        #     keyboard.release('c')
                        #     time.sleep(.2)
                        #     keyboard.press('c')
                        #     time.sleep(.2)
                        #     keyboard.release('c')
                        #     time.sleep(.2)
                        #     keyboard.press('w')
                        #     time.sleep(6)
                        #     keyboard.release('w')
                        #     time.sleep(.2)
                        #     keyboard.press('c')
                        #     time.sleep(.2)
                        #     keyboard.release('c')
                        #     time.sleep(.2)
                        #     keyboard.press('c')
                        #     time.sleep(.2)
                        #     keyboard.release('c')
                        #     time.sleep(.2)
                        #     keyboard.press('c')
                        #     time.sleep(.2)
                        #     keyboard.release('c')
                        #     time.sleep(.2)
                        #     keyboard.press('c')
                        #     time.sleep(.2)
                        #     keyboard.release('c')
                        #     print('Paula Deen: idiot')

                        # #if I say "stop" or "hi", systematically select
                        # #everything in my hotbar and throw it on the ground
                        # if "stop" in text:
                        #     print ("Paula Deen: goodbye bitch")
                        #     playsound('./assets/yousaidstopdummy.mp3')
                        #     keyboard.press('g')
                        #     time.sleep(.5)
                        #     keyboard.release('g')
                        #     time.sleep(.5)
                        #     mouse.scroll(0,1)
                        #     time.sleep(.5)
                        #     keyboard.press('g')
                        #     time.sleep(.5)
                        #     keyboard.release('g')
                        #     time.sleep(.5)
                        #     mouse.scroll(0,1)
                        #     time.sleep(.5)
                        #     keyboard.press('g')
                        #     time.sleep(.5)
                        #     keyboard.release('g')
                        #     time.sleep(.5)
                        #     mouse.scroll(0,1)
                        #     time.sleep(.5)
                        #     keyboard.press('g')
                        #     time.sleep(.5)
                        #     keyboard.release('g')
                        #     time.sleep(.5)
                        #     mouse.scroll(0,1)
                        #     time.sleep(.5)
                        #     keyboard.press('g')
                        #     time.sleep(.5)
                        #     keyboard.release('g')
                        #     time.sleep(.5)
                        #     mouse.scroll(0,1)
                        #     time.sleep(.5)
                        #     keyboard.press('g')
                        #     time.sleep(.5)
                        #     keyboard.release('g')
                        #     time.sleep(.5)
                        #     mouse.scroll(0,1)
                        #     time.sleep(.5)
                        #     keyboard.press('g')
                        #     time.sleep(.5)
                        #     keyboard.release('g')
                        #     time.sleep(.5)
                        #     mouse.scroll(0,1)
                        #     time.sleep(.5)
                        #     keyboard.press('g')
                        #     time.sleep(.5)
                        #     keyboard.release('g')
                        #     time.sleep(.5)
                        #     mouse.scroll(0,1)
                        #     time.sleep(.5)
                        #     keyboard.press('g')
                        #     time.sleep(.5)
                        #     keyboard.release('g')
                        #     time.sleep(.5)
                        #     mouse.scroll(0,1)
                        #     time.sleep(.5)
                        #     keyboard.press('g')
                        #     time.sleep(.5)
                        #     keyboard.release('g')
                        #     time.sleep(.5)
                        #     print ('Paula Deen: I hate you')

                        # #if I say "sucks" or "chat", spam a thousand jumps#
                        # if "sucks" in text:
                        #     print('Paula Deen: no u')
                        #     playsound('./assets/yousuckimeanyousaidsucks.mp3')
                        #     keyboard.press(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.release(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.press(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.release(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.press(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.release(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.press(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.release(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.press(Key.space)
                        #     time.sleep(.5)  
                        #     keyboard.release(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.press(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.release(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.press(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.release(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.press(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.release(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.press(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.release(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.press(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.release(Key.space)
                        #     print('Paula Deen: bless your very heart and soul')

                        # if "chat" in text:
                        #     print('Paula Deen: no u')
                        #     playsound('./assets/yousaidchatagain.mp3')
                        #     keyboard.press(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.release(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.press(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.release(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.press(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.release(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.press(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.release(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.press(Key.space)
                        #     time.sleep(.5)    
                        #     keyboard.release(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.press(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.release(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.press(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.release(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.press(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.release(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.press(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.release(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.press(Key.space)
                        #     time.sleep(.5)
                        #     keyboard.release(Key.space)
                        #     print('Paula Deen: bless your very heart and soul')

                        # if "right" in text:
                        #     print('Paula Deen: girl omg')
                        #     playsound('./assets/yousaidrightletsgoo.mp3')
                        #     keyboard.press('d')
                        #     time.sleep(15)
                        #     keyboard.release('d')
                        #     print('Paula Deen: stop that')




                        ############ Super Smash Block ############

                        if "Mario" in text:
                            print('mario')
                            playsound('./assets/yousaidchatagain.mp3')
                            keyboard.press(Key.left)
                            time.sleep(5)
                            keyboard.release(Key.left)
                            time.sleep(.5)
                            print('mario done')

                        elif "Luigi" in text:
                            print('luigi')
                            # playsound('./assets/yousaidchatagain.mp3')
                            keyboard.press(Key.right)
                            time.sleep(5)
                            keyboard.release(Key.right)
                            time.sleep(.5)
                            print('luigi done')

                        elif "Donkey" in text:
                            print('donkey')
                            # playsound('./assets/yousaidchatagain.mp3')
                            keyboard.press(Key.right)
                            time.sleep(.2)
                            keyboard.release(Key.right)
                            time.sleep(.5)
                            keyboard.press(Key.right)
                            time.sleep(.2)
                            keyboard.release(Key.right)
                            time.sleep(.5)
                            keyboard.press(Key.right)
                            time.sleep(.2)
                            keyboard.release(Key.right)
                            time.sleep(.5)
                            print('donkey done')

                        elif "Kong" in text:
                            print('kong')
                            # playsound('./assets/yousaidchatagain.mp3')
                            keyboard.press(Key.right)
                            time.sleep(.2)
                            keyboard.release(Key.right)
                            time.sleep(.5)
                            keyboard.press(Key.right)
                            time.sleep(.2)
                            keyboard.release(Key.right)
                            time.sleep(.5)
                            keyboard.press(Key.right)
                            time.sleep(.2)
                            keyboard.release(Key.right)
                            time.sleep(.5)
                            print('kong done')

                        elif "Link" in text:
                            print('link')
                            # playsound('./assets/yousaidchatagain.mp3')
                            keyboard.press(Key.left)
                            time.sleep(.2)
                            keyboard.release(Key.left)
                            time.sleep(.5)
                            keyboard.press(Key.left)
                            time.sleep(.2)
                            keyboard.release(Key.left)
                            time.sleep(.5)
                            keyboard.press(Key.left)
                            time.sleep(.2)
                            keyboard.release(Key.left)
                            time.sleep(.5)
                            print('link done')

                        elif "Samus" in text:
                            print('samus')
                            # playsound('./assets/yousaidchatagain.mp3')
                            keyboard.press(Key.left)
                            time.sleep(.2)
                            keyboard.release(Key.left)
                            time.sleep(.5)
                            keyboard.press('s')
                            time.sleep(.2)
                            keyboard.release('s')
                            time.sleep(.2)
                            keyboard.press(Key.left)
                            time.sleep(.2)
                            keyboard.release(Key.left)
                            time.sleep(.5)
                            keyboard.press('s')
                            time.sleep(.2)
                            keyboard.release('s')
                            time.sleep(.2)
                            keyboard.press(Key.left)
                            time.sleep(.2)
                            keyboard.release(Key.left)
                            time.sleep(.5)
                            keyboard.press('s')
                            time.sleep(.2)
                            keyboard.release('s')
                            time.sleep(.2)
                            print('samus done')

                        elif "Yoshi" in text:
                            print('yoshi')
                            # playsound('./assets/yousaidchatagain.mp3')
                            keyboard.press(Key.up)
                            time.sleep(.2)
                            keyboard.release(Key.up)
                            time.sleep(.5)
                            keyboard.press(Key.right)
                            time.sleep(.2)
                            keyboard.release(Key.right)
                            time.sleep(.5)
                            keyboard.press(Key.up)
                            time.sleep(.2)
                            keyboard.release(Key.up)
                            time.sleep(.5)
                            keyboard.press(Key.right)
                            time.sleep(.2)
                            keyboard.release(Key.right)
                            time.sleep(.5)
                            keyboard.press(Key.up)
                            time.sleep(.2)
                            keyboard.release(Key.up)
                            time.sleep(.5)
                            keyboard.press(Key.right)
                            time.sleep(.2)
                            keyboard.release(Key.right)
                            time.sleep(.5)
                            print('yoshi done')

                        elif "Kirby" in text:
                            print('kirby')
                            # playsound('./assets/yousaidchatagain.mp3')
                            keyboard.press('a')
                            time.sleep(.5)
                            keyboard.release('a')
                            time.sleep(.5)
                            keyboard.press('a')
                            time.sleep(.5)
                            keyboard.release('a')
                            time.sleep(.5)
                            keyboard.press('a')
                            time.sleep(.5)
                            keyboard.release('a')
                            time.sleep(.5)
                            keyboard.press('a')
                            time.sleep(.5)
                            keyboard.release('a')
                            time.sleep(.5)
                            keyboard.press('a')
                            time.sleep(.5)
                            keyboard.release('a')
                            time.sleep(.5)                            
                            print('kirby done')

                        elif "Fox" in text:
                            print('fox')
                            # playsound('./assets/yousaidchatagain.mp3')
                            keyboard.press(Key.space)
                            time.sleep(.5)
                            keyboard.release(Key.space)
                            time.sleep(.5)
                            print('fox done')

                        elif "Jiggly" in text:
                            print('jiggly')
                            # playsound('./assets/yousaidchatagain.mp3')
                            keyboard.press(Key.space)
                            time.sleep(.5)
                            keyboard.release(Key.space)
                            time.sleep(.5)
                            print('jiggly done')

                        elif "Puff" in text:
                            print('puff')
                            # playsound('./assets/yousaidchatagain.mp3')
                            keyboard.press(Key.space)
                            time.sleep(.5)
                            keyboard.release(Key.space)
                            time.sleep(.5)
                            print('puff')

                        elif "Ness" in text:
                            print('ness')
                            # playsound('./assets/yousaidchatagain.mp3')
                            keyboard.press(Key.space)
                            time.sleep(.5)
                            keyboard.release(Key.space)
                            time.sleep(.5)
                            print('ness done')

                        elif "Captain" in text:
                            print('captain')
                            # playsound('./assets/yousaidchatagain.mp3')
                            keyboard.press(Key.space)
                            time.sleep(.5)
                            keyboard.release(Key.space)
                            time.sleep(.5)
                            print('captain done')

                        elif "Falcon" in text:
                            print('falcon')
                            # playsound('./assets/yousaidchatagain.mp3')
                            keyboard.press(Key.space)
                            time.sleep(.5)
                            keyboard.release(Key.space)
                            time.sleep(.5)
                            print('falcon done')

                        elif "Pikachu" in text:
                            print('pikachu')
                            # playsound('./assets/yousaidchatagain.mp3')
                            keyboard.press(Key.space)
                            time.sleep(.5)
                            keyboard.release(Key.space)
                            time.sleep(.5)
                            print('pikachu done')

                        main()
                    except:
                        print("Sorry, I did not get that")
                        main()

    MyServer.do_GET()
    
if __name__ == '__main__':
    main()